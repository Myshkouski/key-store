(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{304:function(e,t,r){var content=r(428);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("3b97e940",content,!0,{sourceMap:!1})},427:function(e,t,r){"use strict";var n=r(304);r.n(n).a},428:function(e,t,r){(e.exports=r(12)(!1)).push([e.i,"",""])},465:function(e,t,r){"use strict";r.r(t);r(10),r(6),r(5),r(3),r(9),r(33),r(40),r(60),r(133);var n=r(2),c=r(124),o=r(353),l=r.n(o),d=r(354),m=r.n(d),f=r(125);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var v={props:["item"],data:function(){return{password:null}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.b)("credentials",["secretKey"]),{placeholder:function(){for(var e="",i=this.item.length;i--;)e+="#";return e}}),watch:{item:{deep:!0,handler:function(e){return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.password||!this.item.show){t.next=4;break}return t.next=3,regeneratorRuntime.awrap(this.decrypt(e.secret,e.iv));case 3:this.password=t.sent;case 4:case"end":return t.stop()}}),null,this)}}},methods:{decrypt:function(e,t){return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.secretKey){r.next=3;break}return r.next=3,regeneratorRuntime.awrap(this.$store.dispatch("credentials/importSecretKey",{password:"140896",timeout:"1m"}));case 3:return r.prev=3,r.next=6,regeneratorRuntime.awrap(Object(f.b)(e,t,this.secretKey));case 6:return r.abrupt("return",r.sent);case 9:r.prev=9,r.t0=r.catch(3),console.error(r.t0);case 12:case"end":return r.stop()}}),null,this,[[3,9]])},encrypt:function(e){var t,r,n,c;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(this.secretKey){o.next=3;break}return o.next=3,regeneratorRuntime.awrap(this.$store.dispatch("credentials/importSecretKey",{password:"140896",timeout:"1m"}));case 3:return o.next=5,regeneratorRuntime.awrap(Object(f.c)(e,{masterKey:this.key,salt:this.salt,privateKey:this.encryptedPrivateKey,publicKey:this.publicKey}));case 5:t=o.sent,r=t.cipherText,n=t.iv,c=t.secretKey,this.$emit("update:password",{password:r,iv:n,secretKey:c});case 10:case"end":return o.stop()}}),null,this)}},created:function(){this.$readyState=Promise.resolve()}},y=r(62),w=r(134),O=r.n(w),x=r(453),component=Object(y.a)(v,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-text-field",{attrs:{value:e.item.show?e.password:e.placeholder,type:e.item.show&&!e.item.edit?"text":"password",name:e.item.id,disabled:!e.item.edit,loading:!e.password&&e.item.show},on:{change:function(t){e.$readyState=e.encrypt(t)}}})}),[],!1,null,null,null),k=component.exports;O()(component,{VTextField:x.a});var j={props:["icon"]},_=r(139),P=r(126),S=r(460),R=Object(y.a)(j,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.$emit("click")}}},n),[r("v-icon",{attrs:{small:""}},[e._v("mdi-"+e._s(e.icon))])],1)]}}])},[e._t("default")],2)}),[],!1,null,null,null),T=R.exports;function K(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}O()(R,{VBtn:_.a,VIcon:P.a,VTooltip:S.a});var V={components:{Secret:k,ActionTooltip:T},data:function(){return{snackbar:!1,snackbarTimeout:2e3,selected:[],headers:[{text:"Name",align:"left",sortable:!0,value:"name"},{text:"Secret",align:"left",sortable:!1,value:"secret"},{text:"Actions",align:"left",sortable:!1,value:"actions"}],newItem:null,itemToEdit:null}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?K(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):K(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.b)({storedItems:function(e){return e.secrets.storedItems.map((function(e){return Object.assign({edit:!1,show:!1},e)}))}}),{items:function(){var e=Array.from(this.storedItems);return this.newItem&&e.unshift(this.newItem),e}}),methods:{cloneDeep:m.a,copy:l.a,getRandomString:f.d,create:function(e){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$store.dispatch("secrets/create",{name:name,iv:iv,secret:secret,length:0}));case 2:case"end":return e.stop()}}),null,this)},update:function(e){var t,r,n,c;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.id,r=e.name,n=e.iv,c=e.secret,t){o.next=6;break}return o.next=4,regeneratorRuntime.awrap(this.$store.dispatch("secrets/create",{name:r,iv:n,secret:c,length:0}));case 4:o.next=8;break;case 6:return o.next=8,regeneratorRuntime.awrap(this.$store.dispatch("secrets/update",{id:t,name:r,iv:n,secret:c,length:0}));case 8:this.newItem=null;case 9:case"end":return o.stop()}}),null,this)}},mounted:function(){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))}},$=(r(427),r(461)),D=r(467),E=r(459),I=r(464),C=r(462),A=r(463),B=r(30),F=Object(y.a)(V,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-content",[r("v-snackbar",{attrs:{timeout:e.snackbarTimeout},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("Copied!")]),r("v-container",{staticClass:"fill-height"},[r("v-col",[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"single-select":!1,"item-key":"id","show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:""}},[r("v-spacer"),r("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(t){t.stopPropagation(),e.newItem={id:null,name:"[name]",secret:"[secret]",edit:!0,show:!1}}}},[e._v("New Item")])],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[r("ActionTooltip",{attrs:{icon:n.edit?"lock-question":n.show?"eye":"eye-off"},on:{click:function(t){n.edit?n.secret=e.getRandomString():n.show=!n.show}}},[e._v(e._s(n.edit?"Random":n.show?"Hide":"Show"))]),r("ActionTooltip",{attrs:{icon:n.edit?"cancel":"pencil"},on:{click:function(t){e.itemToEdit=e.cloneDeep(n),n.edit=!n.edit,n.show=!1}}},[e._v(e._s(n.edit?"Cancel":"Edit"))]),r("ActionTooltip",{attrs:{icon:n.edit?"content-save":"content-copy"},on:{click:function(t){n.edit?(e.update(n),n.edit=!1):(e.copy(n.secret),e.snackbar=!0)}}},[e._v(e._s(n.edit?"Save":"Copy to clipboard"))])]}},{key:"item.name",fn:function(t){var n=t.item;return[r("v-text-field",{attrs:{type:"text",name:n.id,disabled:!n.edit},model:{value:n.name,callback:function(t){e.$set(n,"name",t)},expression:"item.name"}})]}},{key:"item.secret",fn:function(e){var t=e.item;return[r("Secret",{attrs:{item:t},on:{"update:password":function(e){t.secret=e.password,t.iv=e.iv}}})]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)],1)}),[],!1,null,"77f3d001",null);t.default=F.exports;O()(F,{VBtn:_.a,VCol:$.a,VContainer:D.a,VContent:E.a,VDataTable:I.a,VSnackbar:C.a,VSpacer:A.a,VTextField:x.a,VToolbar:B.a})}}]);