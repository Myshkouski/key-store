(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{257:function(e,t,n){},269:function(e,t,n){"use strict";var r=n(257);n.n(r).a},282:function(e,t,n){},283:function(e,t,n){"use strict";n(31),n(285);var r=n(138),o=n.n(r),c={data:function(){return{keyArray:new Array(6).fill(null),showValue:new Array(6).fill(null),mask:"â€¢",hideTimeout:"1s"}},computed:{password:function(){return this.keyArray.join("")}},watch:{},methods:{onFocus:function(e){this.keyArray.splice(e,1,null),this.showValue.splice(e,1,!0)},onBlur:function(e){if(this.keyArray[e]){var t=setTimeout(this.hide.bind(this,e),o()(this.hideTimeout));this.show(e,t)}else this.hide(e)},show:function(e,t){this.showValue.splice(e,1,t||!0)},hide:function(e){this.showValue.splice(e,1,!1)},onInput:function(e,t){return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:this.$emit("input"),this.keyArray.splice(t,1,e%10),this.focusNext(t);case 3:case"end":return n.stop()}}),null,this)},onKeydown:function(e,t){"Backspace"==e.key&&(this.keyArray.splice(t,1,null),this.focusNext(t-2))},focusNext:function(e){var t=this.$refs.inputs;e+1<t.length?t[e+1].focus():e+1==t.length&&(t[e].blur(),this.$emit("change",this.password))}}},l=(n(269),n(59)),d=n(132),h=n.n(d),f=n(405),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"inline-box"},e._l(e.keyArray,(function(t,r){return n("div",{key:r,staticClass:"inline-input"},[n("div",{staticClass:"actual-text"},[e.showValue[r]?n("span",[e._v(e._s(e.keyArray[r]))]):n("span",[e._v(e._s(e.mask))])]),n("v-text-field",{ref:"inputs",refInFor:!0,staticClass:"number",attrs:{tabindex:"0",autocomplete:"off",type:"number",pattern:"[0-9]",autofocus:!r,value:e.showValue[r]?e.keyArray[r]:null},on:{input:function(t){return e.onInput(t,r)},focus:function(t){return e.onFocus(r)},blur:function(t){return e.onBlur(r)},keydown:function(t){return e.onKeydown(t,r)}}})],1)})),0)])}),[],!1,null,"d689da98",null);t.a=component.exports;h()(component,{VTextField:f.a})},391:function(e){e.exports=JSON.parse('[{"text":"Name","align":"left","sortable":true,"value":"name"},{"text":"Secret","align":"left","sortable":false,"value":"secret"},{"text":"Actions","align":"left","sortable":false,"value":"actions"}]')},392:function(e,t,n){"use strict";var r=n(282);n.n(r).a},418:function(e,t,n){"use strict";n.r(t);n(10),n(6),n(5),n(9),n(3),n(32),n(31),n(58),n(133);var r=n(2),o=n(127),c=n(318),l=n.n(c),d=n(319),h=n.n(d),f=n(128),m=n(283),v={props:["icon"]},w=n(59),y=n(132),x=n.n(y),k=n(139),_=n(123),O=n(412),component=Object(w.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.$emit("click")}}},r),[n("v-icon",{attrs:{small:""}},[e._v("mdi-"+e._s(e.icon))])],1)]}}])},[e._t("default")],2)}),[],!1,null,null,null),R=component.exports;x()(component,{VBtn:k.a,VIcon:_.a,VTooltip:O.a});var S=n(391);function j(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var P={components:{ActionTooltip:R,PasswordInput:m.a},data:function(){return{overlay:!1,passwordMessage:null,snackbar:!1,snackbarText:"",snackbarTimeout:2e3,selected:[],headers:S,newItem:null,itemToEdit:null}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(o.b)("credentials",["secretKey"]),{},Object(o.b)({storedItems:function(e){return e.secrets.storedItems.map((function(e){return Object.assign({decryptedSecret:null,edit:!1,show:!1},e)}))}}),{items:function(){var e=Array.from(this.storedItems);return this.newItem&&e.unshift(this.newItem),e}}),methods:{cloneDeep:h.a,copy:function(e){return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.requestPassword());case 2:return t.t0=l.a,t.next=5,regeneratorRuntime.awrap(this.decrypt(e.secret,e.iv));case 5:t.t1=t.sent,(0,t.t0)(t.t1),this.snackbarText="Copied!",this.snackbar=!0;case 9:case"end":return t.stop()}}),null,this)},getRandomPassword:f.d,create:function(e){var t=arguments;return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("create",t),e.next=3,regeneratorRuntime.awrap(this.requestPassword());case 3:return e.next=5,regeneratorRuntime.awrap(this.$store.dispatch("secrets/create",{name:name,iv:iv,secret:secret,length:0}));case 5:case"end":return e.stop()}}),null,this)},onPasswordInput:function(e){return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,regeneratorRuntime.awrap(this.$store.dispatch("credentials/importSecretKey",{password:e,timeout:"30s"}));case 3:this.passwordMessage="Success!",this.$emit("password:ready"),this.snackbarText="Success!",this.snackbar=!0,this.overlay=!1,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),this.passwordMessage=t.t0.message;case 13:case"end":return t.stop()}}),null,this,[[0,10]])},update:function(e){var t,n,r,o,c,l;return regeneratorRuntime.async((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,regeneratorRuntime.awrap(this.requestPassword());case 2:return t=e.id,n=e.name,r=e.decryptedSecret,d.next=5,regeneratorRuntime.awrap(Object(f.c)(r,this.secretKey));case 5:if(o=d.sent,c=o.cipherText,l=o.iv,t){d.next=13;break}return d.next=11,regeneratorRuntime.awrap(this.$store.dispatch("secrets/create",{name:n,iv:l,secret:c,length:r.length}));case 11:d.next=15;break;case 13:return d.next=15,regeneratorRuntime.awrap(this.$store.dispatch("secrets/update",{id:t,name:n,iv:l,secret:c,length:r.length}));case 15:this.newItem=null;case 16:case"end":return d.stop()}}),null,this)},toggle:function(e){return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.show=!e.show,!e.show){t.next=7;break}return t.next=4,regeneratorRuntime.awrap(this.decrypt(e.secret,e.iv,this.secretKey));case 4:e.decryptedSecret=t.sent,t.next=8;break;case 7:e.decryptedSecret=null;case 8:case"end":return t.stop()}}),null,this)},decrypt:function(e,t){return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(this.requestPassword());case 2:return n.prev=2,n.next=5,regeneratorRuntime.awrap(Object(f.b)(e,t,this.secretKey));case 5:return n.abrupt("return",n.sent);case 8:n.prev=8,n.t0=n.catch(2),console.error(n.t0);case 11:case"end":return n.stop()}}),null,this,[[2,8]])},requestPassword:function(){var e=this;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.secretKey){t.next=3;break}return this.overlay=!0,t.abrupt("return",new Promise((function(t,n){e.$on("password:ready",t),e.$on("password:error",n)})));case 3:case"end":return t.stop()}}),null,this)}}},T=(n(392),n(413)),V=n(420),I=n(411),A=n(417),$=n(126),C=n(414),E=n(415),K=n(405),D=n(28),N=Object(w.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-content",[n("v-snackbar",{attrs:{timeout:e.snackbarTimeout},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(e._s(e.snackbarText))]),n("v-overlay",{attrs:{value:e.overlay}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){e.overlay=!1}}},[n("v-icon",[e._v("mdi-close")])],1),n("p",{directives:[{name:"show",rawName:"v-show",value:!!e.passwordMessage,expression:"!!passwordMessage"}]},[e._v(e._s(e.passwordMessage))]),n("PasswordInput",{on:{change:e.onPasswordInput}})],1),n("v-container",{staticClass:"fill-height"},[n("v-col",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"single-select":!1,"item-key":"id","show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:""}},[n("v-spacer"),n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(t){t.stopPropagation(),e.newItem={id:null,name:"[name]",secret:"[secret]",edit:!0,show:!1}}}},[e._v("New Item")])],1)]},proxy:!0},{key:"item.actions",fn:function(t){var r=t.item;return[n("ActionTooltip",{attrs:{icon:r.edit?"lock-question":r.show?"eye":"eye-off"},on:{click:function(t){r.edit?r.decryptedSecret=e.getRandomPassword(8):e.toggle(r)}}},[e._v(e._s(r.edit?"Random":r.show?"Hide":"Show"))]),n("ActionTooltip",{attrs:{icon:r.edit?"cancel":"pencil"},on:{click:function(t){e.itemToEdit=e.cloneDeep(r),r.edit=!r.edit,r.show=!1}}},[e._v(e._s(r.edit?"Cancel":"Edit"))]),n("ActionTooltip",{attrs:{icon:r.edit?"content-save":"content-copy"},on:{click:function(t){r.edit?(e.update(r),r.edit=!1):e.copy(r)}}},[e._v(e._s(r.edit?"Save":"Copy to clipboard"))])]}},{key:"item.name",fn:function(t){var r=t.item;return[n("v-text-field",{attrs:{type:"text",name:r.id,disabled:!r.edit},model:{value:r.name,callback:function(t){e.$set(r,"name",t)},expression:"item.name"}})]}},{key:"item.secret",fn:function(e){var t=e.item;return[n("v-text-field",{attrs:{value:t.show&&t.decryptedSecret?t.decryptedSecret:null,placeholder:"######",type:t.show&&!t.edit?"text":"password",name:t.id,disabled:!t.edit,loading:!t.decryptedSecret&&t.show},on:{change:function(e){t.decryptedSecret=e}}})]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)],1)}),[],!1,null,"77f3d001",null);t.default=N.exports;x()(N,{VBtn:k.a,VCol:T.a,VContainer:V.a,VContent:I.a,VDataTable:A.a,VIcon:_.a,VOverlay:$.a,VSnackbar:C.a,VSpacer:E.a,VTextField:K.a,VToolbar:D.a})}}]);